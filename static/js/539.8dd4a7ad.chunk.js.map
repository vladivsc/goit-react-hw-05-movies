{"version":3,"file":"static/js/539.8dd4a7ad.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesList/moviesList.module.scss?9f47","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/MovieSearchForm/movieSearchForm.module.scss?9a38","components/MovieSearchForm/MovieSearchForm.jsx","webpack://react-homework-template/./src/components/Pages/Movies/movies.module.scss?cae5","components/Pages/Movies/Movies.jsx","components/api/themoviedb.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"moviesList_container__sCdf8\",\"item\":\"moviesList_item__HyE04\",\"link\":\"moviesList_link__aoUpD\"};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport styles from '../MoviesList/moviesList.module.scss';\n\nconst MoviesList = ({ results }) => {\n  const location = useLocation();\n  const elements = results?.map(({ id, title, name }) => (\n    <li key={id} className={styles.item}>\n      <Link\n        className={styles.link}\n        to={`/movies/${id}`}\n        state={{ from: location }}\n      >\n        {title || name}\n      </Link>\n    </li>\n  ));\n\n  return <div className={styles.container}>{elements}</div>;\n};\n\nexport default MoviesList;\n\nMoviesList.defaultProps = {\n  results: [],\n};\n\nMoviesList.propTypes = {\n  results: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string,\n      name: PropTypes.string,\n    })\n  ),\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"searchBtn\":\"movieSearchForm_searchBtn__V3NXY\"};","import PropTypes from 'prop-types';\nimport Notiflix from 'notiflix';\n\nimport { useState } from 'react';\n\nimport styles from '../MovieSearchForm/movieSearchForm.module.scss';\n\nconst MovieSearchForm = ({ onSubmit }) => {\n  const [search, setSearch] = useState('');\n\n  const handleChange = ({ target }) => {\n    const { value } = target;\n    setSearch(value);\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n\n    if (search.trim().toLowerCase() === '') {\n      return Notiflix.Notify.info('Enter correct search!');\n    }\n\n    onSubmit(search);\n    setSearch('');\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        name=\"search\"\n        value={search}\n        onChange={handleChange}\n        placeholder=\"Film name\"\n      />\n      <button className={styles.searchBtn}>Search</button>\n    </form>\n  );\n};\n\nexport default MovieSearchForm;\n\nMovieSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"searchContainer\":\"movies_searchContainer__XyjjT\"};","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { fetchSearchMovies } from 'components/api/themoviedb';\n\nimport MovieSearchForm from 'components/MovieSearchForm/MovieSearchForm';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport Loader from 'components/Loader/Loader';\n\nimport styles from '../Movies/movies.module.scss';\n\nconst Movies = () => {\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('search');\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      setLoading(true);\n      try {\n        const { data } = await fetchSearchMovies(search);\n        setItems(data.results);\n      } catch (error) {\n        console.log(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (search) {\n      fetchMovie();\n    }\n  }, [search]);\n\n  const changeSearch = search => {\n    setSearchParams({ search });\n  };\n\n  return (\n    <div className={styles.searchContainer}>\n      {loading && <Loader />}\n      <MovieSearchForm onSubmit={changeSearch} />\n      {items.length > 0 && <MoviesList results={items} />}\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst API_KEY = 'ef7abe5b40a07c080750148cf03b2668';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst TRENDING_URL = `${BASE_URL}/trending/movie/week`;\nconst ID_URL = `${BASE_URL}/movie/`;\nconst SEARCH_URL = `${BASE_URL}/search/movie`;\n\nexport const fetchTrendingMovies = async (page = 1) => {\n  return await axios.get(`${TRENDING_URL}?api_key=${API_KEY}&page=${page}`);\n};\n\nexport const fetchMovieById = async id => {\n  return await axios.get(`${ID_URL}${id}?api_key=${API_KEY}`);\n};\n\nexport const fetchSearchMovies = async (searchQuery, page = 1) => {\n  return await axios.get(\n    `${SEARCH_URL}?api_key=${API_KEY}&query=${searchQuery}&page=${page}`\n  );\n};\n\nexport const fetchCastMovies = async id => {\n  return await axios.get(`${ID_URL}${id}/credits?api_key=${API_KEY}`);\n};\n\nexport const fetchReviewsMovie = async id => {\n  return await axios.get(`${ID_URL}${id}/reviews?api_key=${API_KEY}`);\n};\n"],"names":["MoviesList","results","location","useLocation","elements","map","id","title","name","className","styles","to","state","from","defaultProps","onSubmit","useState","search","setSearch","evt","preventDefault","trim","toLowerCase","Notiflix","value","onChange","target","placeholder","items","setItems","loading","setLoading","useSearchParams","searchParams","setSearchParams","get","useEffect","fetchMovie","fetchSearchMovies","data","console","log","message","Loader","length","API_KEY","BASE_URL","TRENDING_URL","ID_URL","SEARCH_URL","fetchTrendingMovies","page","axios","fetchMovieById","searchQuery","fetchCastMovies","fetchReviewsMovie"],"sourceRoot":""}