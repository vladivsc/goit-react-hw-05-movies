{"version":3,"file":"static/js/130.6ba9fb38.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Pages/MovieDetails/movieDetails.module.scss?0088","components/Pages/MovieDetails/MovieDetails.jsx","components/api/themoviedb.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"details\":\"movieDetails_details__dnMX8\",\"poster\":\"movieDetails_poster__tHmOQ\",\"title\":\"movieDetails_title__bV1+z\",\"subtitle\":\"movieDetails_subtitle__ToFij\",\"btn\":\"movieDetails_btn__F4V5c\",\"info\":\"movieDetails_info__cdsq8\",\"link\":\"movieDetails_link__7md8d\"};","import { useState, useEffect } from 'react';\nimport {\n  useParams,\n  useNavigate,\n  Link,\n  Outlet,\n  useLocation,\n} from 'react-router-dom';\n\nimport { fetchMovieById } from 'components/api/themoviedb';\n\nimport Loader from 'components/Loader/Loader';\nimport styles from '../MovieDetails/movieDetails.module.scss';\n\nconst MovieDetails = () => {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const from = location.state?.from || '/';\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      setLoading(true);\n\n      try {\n        const { data } = await fetchMovieById(id);\n        setMovies(data);\n      } catch ({ response }) {\n        console.log(response.data.massage);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMovie();\n  }, [id]);\n\n  const { title, poster_path, overview, genres, vote_average } = movies;\n\n  const genresList = genres?.map(genre => genre.name).join(', ');\n\n  const userScore = () => {\n    return Math.round(vote_average * 10);\n  };\n\n  const userScorePercentage = userScore();\n\n  return (\n    <>\n      <button className={styles.btn} onClick={() => navigate(from)}>\n        Go back\n      </button>\n      {loading && <Loader />}\n      <div className={styles.details}>\n        <div className={styles.poster}>\n          <img\n            src={\n              poster_path === null\n                ? 'https://user-images.githubusercontent.com/24848110/33519396-7e56363c-d79d-11e7-969b-09782f5ccbab.png'\n                : `https://image.tmdb.org/t/p/w500${poster_path}`\n            }\n            alt=\"\"\n          />\n        </div>\n        <div>\n          <h2 className={styles.title}>{title}</h2>\n          <p className={styles.subtitle}>User Score: {userScorePercentage}%</p>\n          <p className={styles.subtitle}>Overview</p>\n          {overview !== '' ? overview : 'Description is not specified'}\n          <p className={styles.subtitle}>Genres</p>\n          {genresList !== '' ? genresList : 'Genre is not specified'}\n        </div>\n      </div>\n      <div className={styles.info}>\n        <h3>Additional information</h3>\n        <Link state={{ from }} to={`cast`} className={styles.link}>\n          Cast\n        </Link>\n        <Link state={{ from }} to={`reviews`} className={styles.link}>\n          Reviews\n        </Link>\n        <Outlet />\n      </div>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst API_KEY = 'ef7abe5b40a07c080750148cf03b2668';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst TRENDING_URL = `${BASE_URL}/trending/movie/week`;\nconst ID_URL = `${BASE_URL}/movie/`;\nconst SEARCH_URL = `${BASE_URL}/search/movie`;\n\nexport const fetchTrendingMovies = async (page = 1) => {\n  return await axios.get(`${TRENDING_URL}?api_key=${API_KEY}&page=${page}`);\n};\n\nexport const fetchMovieById = async id => {\n  return await axios.get(`${ID_URL}${id}?api_key=${API_KEY}`);\n};\n\nexport const fetchSearchMovies = async (searchQuery, page = 1) => {\n  return await axios.get(\n    `${SEARCH_URL}?api_key=${API_KEY}&query=${searchQuery}&page=${page}`\n  );\n};\n\nexport const fetchCastMovies = async id => {\n  return await axios.get(`${ID_URL}${id}/credits?api_key=${API_KEY}`);\n};\n\nexport const fetchReviewsMovie = async id => {\n  return await axios.get(`${ID_URL}${id}/reviews?api_key=${API_KEY}`);\n};\n"],"names":["useState","movies","setMovies","loading","setLoading","id","useParams","navigate","useNavigate","from","useLocation","state","useEffect","fetchMovie","fetchMovieById","data","response","console","log","massage","title","poster_path","overview","genres","vote_average","genresList","map","genre","name","join","userScorePercentage","Math","round","className","styles","onClick","Loader","src","alt","to","API_KEY","BASE_URL","TRENDING_URL","ID_URL","SEARCH_URL","fetchTrendingMovies","page","axios","fetchSearchMovies","searchQuery","fetchCastMovies","fetchReviewsMovie"],"sourceRoot":""}